{"version":3,"sources":["../node_modules/@uniswap/widgets/dist/clientSideSmartOrderRouter-a12dde76.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","transformSwapRouteToGetQuoteResult","_ref","_step","quote","quoteGasAdjusted","route","routeString","estimatedGasUsed","estimatedGasUsedQuoteToken","estimatedGasUsedUSD","gasPriceWei","methodParameters","blockNumber","_ref$trade","trade","tradeType","inputAmount","outputAmount","routeResponse","_iterator","subRoute","_amount","amount","_quote","tokenPath","protocol","Protocol","V3","pools","curRoute","nextPool","tokenIn","tokenOut","edgeAmountIn","undefined","isExactInput","quotient","edgeAmountOut","push","type","chainId","decimals","address","symbol","fee","liquidity","sqrtRatioX96","tickCurrent","amountIn","amountOut","V2","_pools","pairs","_curRoute","_i","_nextPool","_tokenIn","_tokenOut","_edgeAmountIn","_edgeAmountOut","reserve0","reserve1","token","currency","wrapped","state","QuoteState","SUCCESS","data","amountDecimals","toExact","quoteDecimals","quoteGasAdjustedDecimals","gasUseEstimateQuote","gasUseEstimateQuoteDecimals","gasUseEstimate","gasUseEstimateUSD","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","AUTO_ROUTER_SUPPORTED_CHAINS","values","ChainId","Number","isInteger","isAutoRouterSupportedChain","Boolean","includes","routersCache","WeakMap","getRouter","provider","v2SubgraphProvider","onChainQuoteProvider","multicall2Provider","routers","get","cached","MAINNET","StaticV2SubgraphProvider","POLYGON","POLYGON_MUMBAI","UniswapMulticallProvider","OnChainQuoteProvider","retries","minTimeout","maxTimeout","multicallChunk","gasLimitPerCall","quoteMinSuccessRate","gasLimitOverride","router","AlphaRouter","set","getQuoteResult","_x","_x2","_x3","_getQuoteResult","this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","routerConfig","amountRaw","tokenInIsNative","tokenOutIsNative","currencyIn","currencyOut","baseCurrency","quoteCurrency","wrap","_context","prev","SwapRouterNativeAssets","nativeOnChain","Token","CurrencyAmount","fromRawAmount","JSBI","BigInt","sent","abrupt","INITIALIZED","NOT_FOUND","routeAmountsToString","stop","getClientSideQuoteResult","_x4","_x5","_getClientSideQuoteResult","_callee2","_ref2","tokenInAddress","tokenInChainId","tokenInDecimals","tokenInSymbol","tokenOutAddress","tokenOutChainId","tokenOutDecimals","tokenOutSymbol","_context2","Error","concat"],"mappings":"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","file":"static/js/55.3a5a833d.chunk.js","sourcesContent":["import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { Token, CurrencyAmount } from '@uniswap/sdk-core';\nimport { ChainId, StaticV2SubgraphProvider, UniswapMulticallProvider, OnChainQuoteProvider, AlphaRouter, routeAmountsToString } from '@uniswap/smart-order-router';\nimport { Q as QuoteState, i as isExactInput, S as SwapRouterNativeAssets, n as nativeOnChain } from './index-20d21b03.js';\nimport JSBI from 'jsbi';\nimport { Protocol } from '@uniswap/router-sdk';\nimport 'react';\nimport 'buffer';\nimport '@babel/runtime/helpers/slicedToArray';\nimport 'styled-components';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport 'react-feather';\nimport 'polished';\nimport 'wcag-contrast';\nimport '@babel/runtime/helpers/extends';\nimport 'rebass';\nimport '@web3-react/core';\nimport '@babel/runtime/helpers/objectWithoutProperties';\nimport '@uniswap/universal-router-sdk';\nimport '@reduxjs/toolkit/query/react';\nimport 'jotai/immer';\nimport 'jotai/utils';\nimport '@babel/runtime/helpers/classCallCheck';\nimport '@babel/runtime/helpers/createClass';\nimport '@babel/runtime/helpers/inherits';\nimport '@babel/runtime/helpers/possibleConstructorReturn';\nimport '@babel/runtime/helpers/getPrototypeOf';\nimport 'tiny-invariant';\nimport '@ethersproject/units';\nimport '@reduxjs/toolkit';\nimport 'jotai';\nimport '@uniswap/v2-sdk';\nimport '@uniswap/v3-sdk';\nimport '@babel/runtime/helpers/typeof';\nimport '@babel/runtime/helpers/get';\nimport '@babel/runtime/helpers/assertThisInitialized';\nimport '@babel/runtime/helpers/wrapNativeSuper';\nimport 'qs';\nimport '@ethersproject/abi';\nimport '@uniswap/redux-multicall';\nimport '@ethersproject/address';\nimport '@ethersproject/constants';\nimport '@ethersproject/contracts';\nimport '@uniswap/permit2-sdk';\nimport '@uniswap/conedison/provider/signing';\nimport '@uniswap/conedison/format';\nimport 'ethers/lib/utils';\nimport '@ethersproject/bytes';\nimport '@ethersproject/bignumber';\nimport '@ethersproject/strings';\nimport 'popper-max-size-modifier';\nimport 'react-dom';\nimport 'react-popper';\nimport '@ethersproject/hash';\nimport 'cids';\nimport 'multicodec';\nimport 'multihashes';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport 'wicg-inert';\nimport 'node-vibrant/lib/bundle.js';\nimport 'setimmediate';\nimport 'react-virtualized-auto-sizer';\nimport 'react-window';\nimport '@web3-react/walletconnect';\nimport 'qrcode';\nimport '@uniswap/conedison/provider/index';\nimport '@ethersproject/providers';\nimport '@web3-react/eip1193';\nimport '@web3-react/metamask';\nimport '@web3-react/network';\nimport '@web3-react/types';\nimport 'make-plural/plurals';\nimport 'react-redux';\nimport 'redux';\nimport 'resize-observer-polyfill';\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction transformSwapRouteToGetQuoteResult(_ref) {\n  var quote = _ref.quote,\n      quoteGasAdjusted = _ref.quoteGasAdjusted,\n      route = _ref.route,\n      routeString = _ref.routeString,\n      estimatedGasUsed = _ref.estimatedGasUsed,\n      estimatedGasUsedQuoteToken = _ref.estimatedGasUsedQuoteToken,\n      estimatedGasUsedUSD = _ref.estimatedGasUsedUSD,\n      gasPriceWei = _ref.gasPriceWei,\n      methodParameters = _ref.methodParameters,\n      blockNumber = _ref.blockNumber,\n      _ref$trade = _ref.trade,\n      tradeType = _ref$trade.tradeType,\n      inputAmount = _ref$trade.inputAmount,\n      outputAmount = _ref$trade.outputAmount;\n  var routeResponse = [];\n\n  var _iterator = _createForOfIteratorHelper(route),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var subRoute = _step.value;\n      var _amount = subRoute.amount,\n          _quote = subRoute.quote,\n          tokenPath = subRoute.tokenPath;\n\n      if (subRoute.protocol === Protocol.V3) {\n        var pools = subRoute.route.pools;\n        var curRoute = [];\n\n        for (var i = 0; i < pools.length; i++) {\n          var nextPool = pools[i];\n          var tokenIn = tokenPath[i];\n          var tokenOut = tokenPath[i + 1];\n          var edgeAmountIn = undefined;\n\n          if (i === 0) {\n            edgeAmountIn = isExactInput(tradeType) ? _amount.quotient.toString() : _quote.quotient.toString();\n          }\n\n          var edgeAmountOut = undefined;\n\n          if (i === pools.length - 1) {\n            edgeAmountOut = isExactInput(tradeType) ? _quote.quotient.toString() : _amount.quotient.toString();\n          }\n\n          curRoute.push({\n            type: 'v3-pool',\n            tokenIn: {\n              chainId: tokenIn.chainId,\n              decimals: tokenIn.decimals,\n              address: tokenIn.address,\n              symbol: tokenIn.symbol\n            },\n            tokenOut: {\n              chainId: tokenOut.chainId,\n              decimals: tokenOut.decimals,\n              address: tokenOut.address,\n              symbol: tokenOut.symbol\n            },\n            fee: nextPool.fee.toString(),\n            liquidity: nextPool.liquidity.toString(),\n            sqrtRatioX96: nextPool.sqrtRatioX96.toString(),\n            tickCurrent: nextPool.tickCurrent.toString(),\n            amountIn: edgeAmountIn,\n            amountOut: edgeAmountOut\n          });\n        }\n\n        routeResponse.push(curRoute);\n      } else if (subRoute.protocol === Protocol.V2) {\n        var _pools = subRoute.route.pairs;\n        var _curRoute = [];\n\n        for (var _i = 0; _i < _pools.length; _i++) {\n          var _nextPool = _pools[_i];\n          var _tokenIn = tokenPath[_i];\n          var _tokenOut = tokenPath[_i + 1];\n          var _edgeAmountIn = undefined;\n\n          if (_i === 0) {\n            _edgeAmountIn = isExactInput(tradeType) ? _amount.quotient.toString() : _quote.quotient.toString();\n          }\n\n          var _edgeAmountOut = undefined;\n\n          if (_i === _pools.length - 1) {\n            _edgeAmountOut = isExactInput(tradeType) ? _quote.quotient.toString() : _amount.quotient.toString();\n          }\n\n          var reserve0 = _nextPool.reserve0;\n          var reserve1 = _nextPool.reserve1;\n\n          _curRoute.push({\n            type: 'v2-pool',\n            tokenIn: {\n              chainId: _tokenIn.chainId,\n              decimals: _tokenIn.decimals,\n              address: _tokenIn.address,\n              symbol: _tokenIn.symbol\n            },\n            tokenOut: {\n              chainId: _tokenOut.chainId,\n              decimals: _tokenOut.decimals,\n              address: _tokenOut.address,\n              symbol: _tokenOut.symbol\n            },\n            reserve0: {\n              token: {\n                chainId: reserve0.currency.wrapped.chainId,\n                decimals: reserve0.currency.wrapped.decimals,\n                address: reserve0.currency.wrapped.address,\n                symbol: reserve0.currency.wrapped.symbol\n              },\n              quotient: reserve0.quotient.toString()\n            },\n            reserve1: {\n              token: {\n                chainId: reserve1.currency.wrapped.chainId,\n                decimals: reserve1.currency.wrapped.decimals,\n                address: reserve1.currency.wrapped.address,\n                symbol: reserve1.currency.wrapped.symbol\n              },\n              quotient: reserve1.quotient.toString()\n            },\n            amountIn: _edgeAmountIn,\n            amountOut: _edgeAmountOut\n          });\n        }\n\n        routeResponse.push(_curRoute);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var amount = isExactInput(tradeType) ? inputAmount : outputAmount;\n  return {\n    state: QuoteState.SUCCESS,\n    data: {\n      methodParameters: methodParameters,\n      blockNumber: blockNumber.toString(),\n      amount: amount.quotient.toString(),\n      amountDecimals: amount.toExact(),\n      quote: quote.quotient.toString(),\n      quoteDecimals: quote.toExact(),\n      quoteGasAdjusted: quoteGasAdjusted.quotient.toString(),\n      quoteGasAdjustedDecimals: quoteGasAdjusted.toExact(),\n      gasUseEstimateQuote: estimatedGasUsedQuoteToken.quotient.toString(),\n      gasUseEstimateQuoteDecimals: estimatedGasUsedQuoteToken.toExact(),\n      gasUseEstimate: estimatedGasUsed.toString(),\n      gasUseEstimateUSD: estimatedGasUsedUSD.toExact(),\n      gasPriceWei: gasPriceWei.toString(),\n      route: routeResponse,\n      routeString: routeString\n    }\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar AUTO_ROUTER_SUPPORTED_CHAINS = Object.values(ChainId).filter(function (chainId) {\n  return Number.isInteger(chainId);\n});\n\nfunction isAutoRouterSupportedChain(chainId) {\n  return Boolean(chainId && AUTO_ROUTER_SUPPORTED_CHAINS.includes(chainId));\n}\n/** A cache of AlphaRouters, which must be initialized to a specific chain/provider. */\n\n\nvar routersCache = new WeakMap();\n\nfunction getRouter(chainId, provider) {\n  var routers = routersCache.get(provider) || {};\n  var cached = routers[chainId];\n  if (cached) return cached; // V2 is unsupported for chains other than mainnet.\n  // TODO(zzmp): Upstream to @uniswap/smart-order-router, exporting an enum of supported v2 chains for clarity.\n\n  var v2SubgraphProvider;\n\n  if (chainId !== ChainId.MAINNET) {\n    v2SubgraphProvider = new StaticV2SubgraphProvider(chainId);\n  } // V3 computes on-chain, so the quoter must have gas limits appropriate to the provider.\n  // Most defaults are fine, but polygon needs a lower gas limit.\n  // TODO(zzmp): Upstream to @uniswap/smart-order-router, possibly making this easier to modify\n  // (eg allowing configuration without an instance to avoid duplicating multicall2Provider).\n\n\n  var onChainQuoteProvider;\n  var multicall2Provider;\n\n  if ([ChainId.POLYGON, ChainId.POLYGON_MUMBAI].includes(chainId)) {\n    multicall2Provider = new UniswapMulticallProvider(chainId, provider, 375000); // See https://github.com/Uniswap/smart-order-router/blob/98c58bdee9981fd9ffac9e7d7a97b18302d5f77a/src/routers/alpha-router/alpha-router.ts#L464-L487\n\n    onChainQuoteProvider = new OnChainQuoteProvider(chainId, provider, multicall2Provider, {\n      retries: 2,\n      minTimeout: 100,\n      maxTimeout: 1000\n    }, {\n      multicallChunk: 10,\n      gasLimitPerCall: 5000000,\n      quoteMinSuccessRate: 0.1\n    }, {\n      gasLimitOverride: 5000000,\n      multicallChunk: 5\n    }, {\n      gasLimitOverride: 6250000,\n      multicallChunk: 4\n    });\n  }\n\n  var router = new AlphaRouter({\n    chainId: chainId,\n    provider: provider,\n    v2SubgraphProvider: v2SubgraphProvider,\n    multicall2Provider: multicall2Provider,\n    onChainQuoteProvider: onChainQuoteProvider\n  });\n  routers[chainId] = router;\n  routersCache.set(provider, routers);\n  return router;\n}\n\nfunction getQuoteResult(_x, _x2, _x3) {\n  return _getQuoteResult.apply(this, arguments);\n}\n\nfunction _getQuoteResult() {\n  _getQuoteResult = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref, router, routerConfig) {\n    var tradeType, tokenIn, tokenOut, amountRaw, tokenInIsNative, tokenOutIsNative, currencyIn, currencyOut, baseCurrency, quoteCurrency, amount, route;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            tradeType = _ref.tradeType, tokenIn = _ref.tokenIn, tokenOut = _ref.tokenOut, amountRaw = _ref.amount;\n            tokenInIsNative = Object.values(SwapRouterNativeAssets).includes(tokenIn.address);\n            tokenOutIsNative = Object.values(SwapRouterNativeAssets).includes(tokenOut.address);\n            currencyIn = tokenInIsNative ? nativeOnChain(tokenIn.chainId) : new Token(tokenIn.chainId, tokenIn.address, tokenIn.decimals, tokenIn.symbol);\n            currencyOut = tokenOutIsNative ? nativeOnChain(tokenOut.chainId) : new Token(tokenOut.chainId, tokenOut.address, tokenOut.decimals, tokenOut.symbol);\n            baseCurrency = isExactInput(tradeType) ? currencyIn : currencyOut;\n            quoteCurrency = isExactInput(tradeType) ? currencyOut : currencyIn;\n            amount = CurrencyAmount.fromRawAmount(baseCurrency, JSBI.BigInt(amountRaw !== null && amountRaw !== void 0 ? amountRaw : '1')); // a null amountRaw should initialize the route\n\n            _context.next = 10;\n            return router.route(amount, quoteCurrency, tradeType,\n            /*swapConfig=*/\n            undefined, routerConfig);\n\n          case 10:\n            route = _context.sent;\n\n            if (amountRaw) {\n              _context.next = 13;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              state: QuoteState.INITIALIZED\n            });\n\n          case 13:\n            if (route) {\n              _context.next = 15;\n              break;\n            }\n\n            return _context.abrupt(\"return\", {\n              state: QuoteState.NOT_FOUND\n            });\n\n          case 15:\n            return _context.abrupt(\"return\", transformSwapRouteToGetQuoteResult(_objectSpread(_objectSpread({}, route), {}, {\n              routeString: routeAmountsToString(route.route)\n            })));\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getQuoteResult.apply(this, arguments);\n}\n\nfunction getClientSideQuoteResult(_x4, _x5) {\n  return _getClientSideQuoteResult.apply(this, arguments);\n}\n\nfunction _getClientSideQuoteResult() {\n  _getClientSideQuoteResult = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2, routerConfig) {\n    var tokenInAddress, tokenInChainId, tokenInDecimals, tokenInSymbol, tokenOutAddress, tokenOutChainId, tokenOutDecimals, tokenOutSymbol, amount, tradeType, provider, router;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            tokenInAddress = _ref2.tokenInAddress, tokenInChainId = _ref2.tokenInChainId, tokenInDecimals = _ref2.tokenInDecimals, tokenInSymbol = _ref2.tokenInSymbol, tokenOutAddress = _ref2.tokenOutAddress, tokenOutChainId = _ref2.tokenOutChainId, tokenOutDecimals = _ref2.tokenOutDecimals, tokenOutSymbol = _ref2.tokenOutSymbol, amount = _ref2.amount, tradeType = _ref2.tradeType, provider = _ref2.provider;\n\n            if (isAutoRouterSupportedChain(tokenInChainId)) {\n              _context2.next = 3;\n              break;\n            }\n\n            throw new Error(\"Router does not support this token's chain (chainId: \".concat(tokenInChainId, \").\"));\n\n          case 3:\n            router = getRouter(tokenInChainId, provider);\n            return _context2.abrupt(\"return\", getQuoteResult({\n              tradeType: tradeType,\n              tokenIn: {\n                address: tokenInAddress,\n                chainId: tokenInChainId,\n                decimals: tokenInDecimals,\n                symbol: tokenInSymbol\n              },\n              tokenOut: {\n                address: tokenOutAddress,\n                chainId: tokenOutChainId,\n                decimals: tokenOutDecimals,\n                symbol: tokenOutSymbol\n              },\n              amount: amount\n            }, router, routerConfig));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getClientSideQuoteResult.apply(this, arguments);\n}\n\nexport { getClientSideQuoteResult };\n"],"sourceRoot":""}