(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[55],{1768:function(t,e,r){"use strict";r.r(e),r.d(e,"getClientSideQuoteResult",(function(){return q}));var n=r(29),o=r.n(n),a=r(115),i=r.n(a),s=r(66),u=r.n(s),c=r(7),d=r(336),l=r(160),m=r(11),p=r.n(m),b=r(49);r(2),r(143),r(44),r(200),r(381),r(142),r(38),r(19),r(199),r(184),r(122),r(123),r(165),r(246),r(141),r(105),r(26),r(314),r(652),r(481),r(514),r(265),r(284),r(217),r(446),r(53),r(778),r(238),r(449),r(351),r(318),r(306),r(837),r(552),r(722),r(533),r(304),r(779),r(781),r(782),r(550),r(551),r(312),r(120),r(783);function f(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h(t){var e,r=t.quote,n=t.quoteGasAdjusted,o=t.route,a=t.routeString,i=t.estimatedGasUsed,s=t.estimatedGasUsedQuoteToken,u=t.estimatedGasUsedUSD,c=t.gasPriceWei,d=t.methodParameters,m=t.blockNumber,p=t.trade,y=p.tradeType,h=p.inputAmount,g=p.outputAmount,v=[],O=f(o);try{for(O.s();!(e=O.n()).done;){var I=e.value,k=I.amount,S=I.quote,j=I.tokenPath;if(I.protocol===b.Protocol.V3){for(var w=I.route.pools,q=[],P=0;P<w.length;P++){var A=w[P],E=j[P],C=j[P+1],D=void 0;0===P&&(D=Object(l.j)(y)?k.quotient.toString():S.quotient.toString());var x=void 0;P===w.length-1&&(x=Object(l.j)(y)?S.quotient.toString():k.quotient.toString()),q.push({type:"v3-pool",tokenIn:{chainId:E.chainId,decimals:E.decimals,address:E.address,symbol:E.symbol},tokenOut:{chainId:C.chainId,decimals:C.decimals,address:C.address,symbol:C.symbol},fee:A.fee.toString(),liquidity:A.liquidity.toString(),sqrtRatioX96:A.sqrtRatioX96.toString(),tickCurrent:A.tickCurrent.toString(),amountIn:D,amountOut:x})}v.push(q)}else if(I.protocol===b.Protocol.V2){for(var T=I.route.pairs,U=[],N=0;N<T.length;N++){var G=T[N],L=j[N],M=j[N+1],R=void 0;0===N&&(R=Object(l.j)(y)?k.quotient.toString():S.quotient.toString());var Q=void 0;N===T.length-1&&(Q=Object(l.j)(y)?S.quotient.toString():k.quotient.toString());var B=G.reserve0,W=G.reserve1;U.push({type:"v2-pool",tokenIn:{chainId:L.chainId,decimals:L.decimals,address:L.address,symbol:L.symbol},tokenOut:{chainId:M.chainId,decimals:M.decimals,address:M.address,symbol:M.symbol},reserve0:{token:{chainId:B.currency.wrapped.chainId,decimals:B.currency.wrapped.decimals,address:B.currency.wrapped.address,symbol:B.currency.wrapped.symbol},quotient:B.quotient.toString()},reserve1:{token:{chainId:W.currency.wrapped.chainId,decimals:W.currency.wrapped.decimals,address:W.currency.wrapped.address,symbol:W.currency.wrapped.symbol},quotient:W.quotient.toString()},amountIn:R,amountOut:Q})}v.push(U)}}}catch(V){O.e(V)}finally{O.f()}var J=Object(l.j)(y)?h:g;return{state:l.d.SUCCESS,data:{methodParameters:d,blockNumber:m.toString(),amount:J.quotient.toString(),amountDecimals:J.toExact(),quote:r.quotient.toString(),quoteDecimals:r.toExact(),quoteGasAdjusted:n.quotient.toString(),quoteGasAdjustedDecimals:n.toExact(),gasUseEstimateQuote:s.quotient.toString(),gasUseEstimateQuoteDecimals:s.toExact(),gasUseEstimate:i.toString(),gasUseEstimateUSD:u.toExact(),gasPriceWei:c.toString(),route:v,routeString:a}}}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O=Object.values(d.b).filter((function(t){return Number.isInteger(t)}));function I(t){return Boolean(t&&O.includes(t))}var k=new WeakMap;function S(t,e){var r,n,o,a=k.get(e)||{},i=a[t];if(i)return i;t!==d.b.MAINNET&&(r=new d.g(t)),[d.b.POLYGON,d.b.POLYGON_MUMBAI].includes(t)&&(o=new d.i(t,e,375e3),n=new d.e(t,e,o,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:5e6,quoteMinSuccessRate:.1},{gasLimitOverride:5e6,multicallChunk:5},{gasLimitOverride:625e4,multicallChunk:4}));var s=new d.a({chainId:t,provider:e,v2SubgraphProvider:r,multicall2Provider:o,onChainQuoteProvider:n});return a[t]=s,k.set(e,a),s}function j(t,e,r){return w.apply(this,arguments)}function w(){return(w=i()(u.a.mark((function t(e,r,n){var o,a,i,s,m,b,f,y,g,O,I,k;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.tradeType,a=e.tokenIn,i=e.tokenOut,s=e.amount,m=Object.values(l.f).includes(a.address),b=Object.values(l.f).includes(i.address),f=m?Object(l.k)(a.chainId):new c.Token(a.chainId,a.address,a.decimals,a.symbol),y=b?Object(l.k)(i.chainId):new c.Token(i.chainId,i.address,i.decimals,i.symbol),g=Object(l.j)(o)?f:y,O=Object(l.j)(o)?y:f,I=c.CurrencyAmount.fromRawAmount(g,p.a.BigInt(null!==s&&void 0!==s?s:"1")),t.next=10,r.route(I,O,o,void 0,n);case 10:if(k=t.sent,s){t.next=13;break}return t.abrupt("return",{state:l.d.INITIALIZED});case 13:if(k){t.next=15;break}return t.abrupt("return",{state:l.d.NOT_FOUND});case 15:return t.abrupt("return",h(v(v({},k),{},{routeString:Object(d.l)(k.route)})));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(t,e){return P.apply(this,arguments)}function P(){return(P=i()(u.a.mark((function t(e,r){var n,o,a,i,s,c,d,l,m,p,b,f;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.tokenInAddress,o=e.tokenInChainId,a=e.tokenInDecimals,i=e.tokenInSymbol,s=e.tokenOutAddress,c=e.tokenOutChainId,d=e.tokenOutDecimals,l=e.tokenOutSymbol,m=e.amount,p=e.tradeType,b=e.provider,I(o)){t.next=3;break}throw new Error("Router does not support this token's chain (chainId: ".concat(o,")."));case 3:return f=S(o,b),t.abrupt("return",j({tradeType:p,tokenIn:{address:n,chainId:o,decimals:a,symbol:i},tokenOut:{address:s,chainId:c,decimals:d,symbol:l},amount:m},f,r));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=55.3a5a833d.chunk.js.map